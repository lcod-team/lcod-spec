schemaVersion = "2.0"
id = "lcod://tooling/fs/read_optional@0.1.0"
version = "0.1.0"
kind = "component"
summary = "Read a text file when available, otherwise return fallback text and an optional warning."

[palette]
category = "Filesystem"
icon = "mdi:file-document"
tags = [ "filesystem", "read" ]

[deps]
requires = [ "lcod://contract/tooling/fs/read_optional@1" ]

[inputs.path]
summary = "File path to read."
required = false
schema = """
{
  "type": "string"
}"""

[inputs.encoding]
summary = "File encoding (defaults to utf-8)."
required = false
schema = """
{
  "type": "string"
}"""

[inputs.fallback]
summary = "Fallback text returned when the file cannot be read."
required = false
schema = """
{
  "type": "string"
}"""

[inputs.warningMessage]
summary = "Warning emitted when the fallback is used."
required = false
schema = """
{
  "type": "string"
}"""

[outputs.text]
summary = "File contents or fallback text."
schema = """
{
  "type": ["string", "null"]
}"""

[outputs.exists]
summary = "True when the file was read successfully."
schema = """
{
  "type": "boolean"
}"""

[outputs.warning]
summary = "Warning emitted when the fallback was returned (null otherwise)."
schema = """
{
  "type": ["string", "null"]
}"""

[documentation]
body = """
Attempt to read a text file and fall back to a default string when the file is
missing or cannot be read. Optionally emits a warning message."""
