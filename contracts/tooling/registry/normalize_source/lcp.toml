schemaVersion = "2.0"
id = "lcod://contract/tooling/registry/normalize_source@1.0.0"
version = "1.0.0"
kind = "contract"
summary = "Validate and normalize a registry source entry, returning warnings when invalid."

[inputs.entry]
summary = "Raw registry source entry."
required = true
schema = """
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object"
}
"""

[outputs.entry]
summary = "Normalized entry (null when rejected)."
schema = """
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": ["object", "null"]
}
"""

[outputs.warnings]
summary = "Warnings emitted while normalizing the entry."
schema = """
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "array",
  "items": { "type": "string" }
}
"""
